<!--
    file shows details of a particular event to the user
-->

<main class="container mt-5">
    <block class="title-block">
        <!-- title section -->
        <h1><%= title %></h1>
        <p>
            View all details for this event below.
        </p>
    </block>
    <hr>

    <!-- body section -->
    <body>
        <!--to access a property of the object in array, reference array index and property key-->
        <!--iterate over the array and print all values using a forEach-->
        <% const e = model %>
        <div>
            <h4><%= e.title %></h5>
            <p><b>Description:</b> <%= e.description %></p>
            <p><b>Venue Name:</b> <%= e.venueName %></p>
            <p><b>Address:</b> <%= e.street%>, <%= e.city%>, <%= e.state %> <%= e.zipcode %> <%= e.country%></p>
            <p><b>Start Date and Time:</b> <%= e.startDatetime.toString() %></p>
            <p><b>End Date and Time:</b> <%= e.endDatetime.toString() %></p>  
            <p><b>Created by:</b> <%= e.firstName[0] %> <%= e.lastName[0] %></p>

        <!--NEED TO WRAP BELOW CODE IN SECTION TO ENSURE user made event-->
        <!--right now this is hardcoded because user login feature is not coded
            this would only show the below after checking if userLoggedIn.id == event.userId-->
        <% if(loggedInUserId === e.userId) { %>
        <!--button to edit event-->
        <form action="/events/edit" method="get" >
            <input type="hidden" id="id" name="id" value=<%= e.id %> >
            <input type="submit" value="Edit Event" class="btn btn-secondary mb-3"/>
        </form>
    </br>

        <!--button to delete event-->
        <form action="/events/delete" method="get" >
            <input type="hidden" id="id" name="id" value=<%= e.id[0] %> >
            <input type="submit" value="Delete Event" class="btn btn-secondary mb-3"/>
        </form>
            
        <hr>
        <% }; %>
    </body>

</main>
